<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>API Design | Rover</title>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="generator" content="Hugo 0.97.0" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="author" content="Winston Tsia">
<meta name="keywords" content="API, Applications">
<meta name="description" content="Notes on API Design">
<link rel="stylesheet" type="text/css" media="screen" href="/rover/css/normalize.css" />
<link rel="stylesheet" type="text/css" media="screen" href="/rover/css/main.css" />
<link rel="stylesheet" type="text/css" media="screen" href="/rover/css/all.css" /><link rel="stylesheet" href="/rover/css/katex.css" crossorigin="anonymous">
<script defer src="/rover/js/katex.js"  integrity="" crossorigin="anonymous"></script>
<script defer src="/rover/js/auto-render.js" integrity="" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script>
<script>
document.addEventListener("DOMContentLoaded", function() { renderMathInElement(document.body, { delimiters: [ {left: "$$", right: "$$", display: true}, {left: "$", right: "$", display: false} ] }); });
</script>
<script






src="/rover/">
</script>




<meta property="og:title" content="API Design" />
<meta property="og:description" content="Notes on API Design" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://wtsia.github.io/rover/posts/cs.api-design/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-05-30T14:36:42-07:00" />
<meta property="article:modified_time" content="2023-05-30T14:36:42-07:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="API Design"/>
<meta name="twitter:description" content="Notes on API Design"/>

<meta itemprop="name" content="API Design">
<meta itemprop="description" content="Notes on API Design"><meta itemprop="datePublished" content="2023-05-30T14:36:42-07:00" />
<meta itemprop="dateModified" content="2023-05-30T14:36:42-07:00" />
<meta itemprop="wordCount" content="2576">
<meta itemprop="keywords" content="API,Applications," />
</head>
<body>
<header>
<div id="avatar">
<a href="https://wtsia.github.io/rover/"><img src="/rover/img/about.jpg" alt="Rover"></a>
</div>
<div id="titletext">
<h2 id="title"><a href="https://wtsia.github.io/rover/">Rover</a></h2>
</div>
<div id="title-description">
<p id="subtitle"><a href="https://wtsia.github.io/rover/" target="_blank">Rover</a> is a blog for teaching or storing concepts.</p>
<div id="social">
<nav><ul>
<li><a href="https://github.com/wtsia"><i title="Github" class="icons fab fa-github"></i></a></li>
<li><a href="/rover/index.xml"><i title="RSS" class="icons fas fa-rss"></i></a></li>
<li><a><i title="Switch Dark Mode" class="dark-mode icons fas fa-moon"></i></a></li>
</ul></nav>
</div>
</div>
<div id="mainmenu">
<nav>
<ul>
<li><a href="/rover/">Home</a></li>
<li><a href="/rover/posts">Notes</a></li>
<li><a href="/rover/blog">Blog</a></li>
<li><a href="/rover/about">About</a></li>
<li><a href="/rover/tags">Tags</a></li>
<li><a href="/rover/categories">Categories</a></li>
<li><a href="/rover/files">Files</a></li>
</ul>
</nav>
</div>
</header>
<main>
<div class="post">
<article>
<div class="post-header">
<div class="matter">
<h1 class="title">API Design</h1>
<p class="post-meta">
<span class="post-meta">



</span>

</p>
</div>
</div>
<div class="markdown">
<p><figure>
  <img src="https://learnupon.s3.eu-west-1.amazonaws.com/badges/183846/badge/Badge-Designer.png" alt="API Designer"  />
</figure></p>
<h1 id="contents">Contents</h1>
<ul>
<li><a href="#contents">Contents</a></li>
<li><a href="#api-design"><strong>API Design</strong></a>
<ul>
<li><a href="#introduction">Introduction</a>
<ul>
<li><a href="#apis-digital-enablers">APIs: Digital Enablers</a>
<ul>
<li><a href="#business-benefits">Business Benefits</a></li>
<li><a href="#digital-feedback-loop">Digital Feedback Loop</a></li>
<li><a href="#case-studies">Case Studies</a>
<ul>
<li><a href="#amazon">Amazon</a></li>
<li><a href="#disney">Disney</a></li>
<li><a href="#summary">Summary:</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#api360-model">API360 Model</a></li>
<li><a href="#api-styles">API Styles</a></li>
<li><a href="#attributes-to-designing-apis">Attributes to Designing APIs</a>
<ul>
<li><a href="#functionality">Functionality</a></li>
<li><a href="#usability">Usability</a></li>
<li><a href="#experience">Experience</a></li>
<li><a href="#developer-experience-dx">Developer Experience (DX)</a></li>
</ul>
</li>
<li><a href="#overcoming-api-design-obstacles">Overcoming API Design Obstacles</a>
<ul>
<li><a href="#challenges">Challenges</a></li>
<li><a href="#obstacles">Obstacles</a></li>
</ul>
</li>
<li><a href="#architecture">Architecture</a>
<ul>
<li><a href="#well-designed-api">Well-Designed API</a></li>
<li><a href="#architectural-layers">Architectural Layers</a></li>
<li><a href="#api-design-approach-steps">API Design Approach Steps</a></li>
</ul>
</li>
<li><a href="#change-management">Change Management</a>
<ul>
<li><a href="#api-versioning">API Versioning</a></li>
<li><a href="#extending-the-interface-techniques">Extending the Interface Techniques</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 id="api-design"><strong>API Design</strong></h1>
<h2 id="introduction">Introduction</h2>
<p>API means Application Programming Interface.</p>
<p><strong>CRUD</strong> and <strong>REST</strong> are two fundamental concepts in web development and API design:</p>
<p><strong>CRUD</strong>:</p>
<ol>
<li>
<p><strong>CRUD</strong> stands for Create, Read, Update, and Delete. It represents the basic operations that can be performed on data in most relational databases and web services. Here&rsquo;s what each operation entails:</p>
<ul>
<li>
<p><strong>Create</strong>: This operation involves creating new data records or resources. In a web context, it typically corresponds to an HTTP POST request, where data is sent to a server to create a new resource.</p>
</li>
<li>
<p><strong>Read</strong>: The Read operation is about retrieving data from a database or server. In web services, it corresponds to an HTTP GET request, which retrieves data without modifying it.</p>
</li>
<li>
<p><strong>Update</strong>: Updating is the process of modifying existing data. In web services, it&rsquo;s often implemented with an HTTP PUT or PATCH request, where data is sent to the server to update an existing resource.</p>
</li>
<li>
<p><strong>Delete</strong>: The Delete operation is used to remove data or resources. It corresponds to an HTTP DELETE request, which instructs the server to remove a specific resource.</p>
</li>
</ul>
</li>
</ol>
<p>CRUD operations are essential for managing data in web applications, and they map directly to the HTTP methods for web services.</p>
<p><strong>REST</strong>:</p>
<ol>
<li>
<p><strong>REST</strong> stands for Representational State Transfer. It is an architectural style and set of constraints for designing networked applications. RESTful systems are designed to be stateless, scalable, and simple. Here are some key principles of REST:</p>
<ul>
<li>
<p><strong>Resources</strong>: In REST, data or entities are represented as resources. Resources can be identified by URIs (Uniform Resource Identifiers).</p>
</li>
<li>
<p><strong>HTTP Methods</strong>: REST uses standard HTTP methods (GET, POST, PUT, DELETE) to perform CRUD operations on resources. Each HTTP method maps to a specific CRUD operation.</p>
</li>
<li>
<p><strong>Statelessness</strong>: RESTful services are stateless, meaning each request from a client to the server must contain all the information needed to understand and process the request. The server does not store any client state between requests.</p>
</li>
<li>
<p><strong>Representation</strong>: Resources can have multiple representations (e.g., JSON, XML, HTML), and clients can request the representation they prefer using content negotiation.</p>
</li>
<li>
<p><strong>Uniform Interface</strong>: REST enforces a uniform and consistent interface for interactions between clients and servers. This simplifies client-server interactions and promotes scalability.</p>
</li>
<li>
<p><strong>Client-Server</strong>: REST separates the client and server components, allowing them to evolve independently. This separation enhances scalability and simplifies client development.</p>
</li>
<li>
<p><strong>Stateless Communication</strong>: Each request from a client to a server must include all the information necessary for the server to understand and process the request. Servers do not store client state.</p>
</li>
</ul>
</li>
</ol>
<p>RESTful APIs are widely used in web services and are known for their simplicity, scalability, and ease of use. They have become the foundation for building many modern web APIs, and adhering to REST principles helps create consistent and predictable APIs.</p>
<h3 id="apis-digital-enablers">APIs: Digital Enablers</h3>
<p>APIs enable many tools within an enterprise:</p>
<ul>
<li>Scalability for increased business</li>
<li>Ecosystem for developers</li>
<li>Accessibility to customers</li>
<li>Information gathering</li>
</ul>
<h4 id="business-benefits">Business Benefits</h4>
<ul>
<li>New Revenue (Google Maps, Reddit&ndash;2023)</li>
<li>Reach and Retention (npr)</li>
<li>Faster Partnerships (Kayak)</li>
<li>Mobile and Omnichannel (Capital One, Facebook, Amazon, mobile apps)</li>
<li>Interaction Analysis (Mastercard)</li>
<li>Outsourced Innovation (Netflix)</li>
<li>Self-Service Integration (Amazon)</li>
<li>Organizational Agility (&ldquo;API First&rdquo;)</li>
</ul>
<h4 id="digital-feedback-loop">Digital Feedback Loop</h4>
<p>Business Goals -&gt; Digital Reach -&gt; Business Results -&gt; Data-drive Insights -&gt; Business Goals</p>
<h4 id="case-studies">Case Studies</h4>
<h5 id="amazon">Amazon</h5>
<blockquote>
<p>Amazon&rsquo;s development of APIs in 2001-2002 connected the Amazon organization via web services. With good API documentation, the use of APIs in Amazon allowed for expansion towards infrastructure provisioning services&ndash;going from book retailer to AWS. Seamless switching from website to mobile.</p>
</blockquote>
<h5 id="disney">Disney</h5>
<blockquote>
<p>Disney&rsquo;s use of a band is an IoT device that enabled an Omnichannel method to access keys, rides, etc. This allowed not only widespread usage, but also data-driven approaches to problems.</p>
</blockquote>
<h5 id="summary">Summary:</h5>
<p>Define APIs. Understand Digital Feedback Loop. Business benefits, and API value in real life.</p>
<h2 id="api360-model">API360 Model</h2>
<ul>
<li>Alignment &amp; Usefulness
<ul>
<li>Create API Strategy (Key Deliverables: <strong>Roadmap, Organization, Business</strong>)</li>
</ul>
</li>
<li>Engagement &amp; Usability
<ul>
<li>Marketing APIs (Key Deliverables: <strong>Dev Program, API/DX Design Principles, API Consumer Toolkits, Education</strong>)
<ul>
<li>Marketing, Engagement, Ease of Use, Tools required</li>
</ul>
</li>
</ul>
</li>
<li>Scalability &amp; Evolvability (Key Deliverables: <strong>Architecture Guidelines, API Lifecycle, Roadmaps, Skills Training</strong>)
<ul>
<li>Future-proof + Appropriate Constraints, Optimized Usage &gt; Standardization</li>
<li><em>Runtime? Version? Factors affecting design time scalability? Trends? Constraints? Leveraging current assets?</em></li>
</ul>
</li>
<li>Manageability &amp; Security (Key Policies: <strong>Analytics/Monitoring, Identity/Security, Infrastructure/Operations, Mangement Platform</strong>)
<ul>
<li>Good Tracking, Access Management</li>
<li><em>Metrics? Control? Privacy? Threats?</em></li>
<li>Policies: Analytics/Monitoring, Identity/Security, Infrastructure/Operations, Mangement Platform</li>
</ul>
</li>
</ul>
<h2 id="api-styles">API Styles</h2>
<p><strong>Tunnel (SOAP)</strong>: build on calling functions within a programming language, extended to remote services</p>
<p>URI (CRUD): an intuitive way to invoke requests, and when well-designed, employ &ldquo;hackable&rdquo; URIs.</p>
<p>Hypermedia (REST): like URI, but uses rich content types and other native HTTP tooling to create interactions focused on tasks over objects</p>
<p>Even-driven/Reactive: includes WebSocket protocol, transmitting data between a client and server with low overhead</p>
<p>GraphQL: clients can dictate presentation of retrieved data without large/unnecessary requests</p>
<p>gRPC: language-agnostic, and requires client and server agree on payload format (allows performance at scale)</p>
<p>Certainly, here&rsquo;s an explanation of the different API styles and the acronyms involved:</p>
<ol>
<li><strong>Tunnel (SOAP)</strong>:</li>
</ol>
<ul>
<li><strong>SOAP</strong> stands for Simple Object Access Protocol. It is a protocol for exchanging structured information in the implementation of web services. SOAP APIs are built on the idea of sending requests to remote services using XML-based messages. It often involves calling functions within a programming language that are extended to work with remote services. SOAP is known for its strict standards and is often associated with enterprise-level integrations.</li>
<li><strong>Implementation Model</strong>
<ul>
<li>Focus on functions/methods</li>
<li>Build a component</li>
<li>Expose functions vis WSDL</li>
<li>Publish WSDL</li>
<li>Code generate proxy class</li>
<li>Use proxy class in client</li>
</ul>
</li>
<li><em>Advantages</em>: Continues RPC line, good &ldquo;tooling&rdquo;, strong governance model</li>
<li><em>Disadvantages</em>: Stack dependencies, XML centric, ignores HTTP features, less popular</li>
</ul>
<blockquote>
<p>Example: A legacy enterprise system exposes a SOAP API for retrieving customer information. A client application sends a SOAP request containing XML data to the server, and the server responds with XML-formatted data containing the customer details.</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>from zeep import Client
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span># Create a SOAP client
</span></span><span style="display:flex;"><span>client = Client(&#39;http://example.com/soap-service?wsdl&#39;)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span># Create a SOAP request
</span></span><span style="display:flex;"><span>request_data = {
</span></span><span style="display:flex;"><span>    &#39;customer_id&#39;: 123
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span># Call a remote function
</span></span><span style="display:flex;"><span>response = client.service.get_customer_info(**request_data)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span># Process the SOAP response (assuming XML response)
</span></span><span style="display:flex;"><span>customer_info = response[&#39;customer_info&#39;]
</span></span><span style="display:flex;"><span>print(customer_info)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span># Example of an XML-centric message format:
</span></span><span style="display:flex;"><span>&lt;person&gt;
</span></span><span style="display:flex;"><span>    &lt;name&gt;John Doe&lt;/name&gt;
</span></span><span style="display:flex;"><span>    &lt;age&gt;30&lt;/age&gt;
</span></span><span style="display:flex;"><span>    &lt;email&gt;john@example.com&lt;/email&gt;
</span></span><span style="display:flex;"><span>&lt;/person&gt;
</span></span></code></pre></div><ol start="2">
<li><strong>URI (CRUD)</strong>:</li>
</ol>
<ul>
<li><strong>URI</strong> stands for Uniform Resource Identifier. In the context of API design, URI is commonly used for CRUD (Create, Read, Update, Delete) operations. RESTful APIs make use of URIs to represent resources, and HTTP methods like GET, POST, PUT, and DELETE are used to perform actions on these resources. Well-designed URIs are &ldquo;hackable,&rdquo; meaning they are intuitive and follow a logical structure, making them easy for developers to understand and work with.</li>
<li><strong>Implementation Model</strong>
<ul>
<li>Objects/Entities</li>
<li>Design identifiers</li>
<li>Design query rules</li>
<li>HTTP methods as operations</li>
<li>Server serializes internal obj</li>
<li>Clients use URIs tp pass obj</li>
</ul>
</li>
<li><em>Advantages</em>: well-known, tooling is good, &ldquo;hacking&rdquo;: easy</li>
<li><em>Disadvantages</em>: URI modeling N/A, HTTP method set is small, and may become &ldquo;chatty&rdquo;</li>
</ul>
<blockquote>
<p>Example: A RESTful API for a blogging platform. Clients can use HTTP methods to perform CRUD operations on blog posts. For instance, to create a new post, a client sends a POST request to /api/posts, and to retrieve a specific post, a client sends a GET request to /api/posts/{post_id}. Example in Node.js using Express:</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>const express = require(&#39;express&#39;);
</span></span><span style="display:flex;"><span>const app = express();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>// Sample in-memory data
</span></span><span style="display:flex;"><span>const blogPosts = [];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>// Create a new blog post
</span></span><span style="display:flex;"><span>app.post(&#39;/api/posts&#39;, (req, res) =&gt; {
</span></span><span style="display:flex;"><span>    const newPost = req.body; // Assuming request body contains post data
</span></span><span style="display:flex;"><span>    blogPosts.push(newPost);
</span></span><span style="display:flex;"><span>    res.json(newPost);
</span></span><span style="display:flex;"><span>});
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>// Retrieve a specific blog post
</span></span><span style="display:flex;"><span>app.get(&#39;/api/posts/:postId&#39;, (req, res) =&gt; {
</span></span><span style="display:flex;"><span>    const postId = req.params.postId;
</span></span><span style="display:flex;"><span>    const post = blogPosts.find(p =&gt; p.id === postId);
</span></span><span style="display:flex;"><span>    if (!post) {
</span></span><span style="display:flex;"><span>        res.status(404).json({ error: &#39;Post not found&#39; });
</span></span><span style="display:flex;"><span>    } else {
</span></span><span style="display:flex;"><span>        res.json(post);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>});
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>// ... other CRUD routes ...
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>app.listen(3000, () =&gt; {
</span></span><span style="display:flex;"><span>    console.log(&#39;Server is running on port 3000&#39;);
</span></span><span style="display:flex;"><span>});
</span></span></code></pre></div><ol start="3">
<li><strong>Hypermedia (REST)</strong>:</li>
</ol>
<ul>
<li><strong>REST</strong> stands for Representational State Transfer. RESTful APIs use rich content types and native HTTP tooling to create interactions focused on tasks over objects. Hypermedia, in the context of REST, refers to including links or references within API responses that guide clients on how to navigate and interact with the API. This allows for a more dynamic and discoverable API experience, where clients can follow links to perform actions.</li>
<li><strong>Implementation Model</strong>
<ul>
<li>Focuse on tasks/use</li>
<li>Select media type</li>
<li>Match tasks to forms/links</li>
<li>Server translates internal storage to media types</li>
<li>Client uses links/forms in responses</li>
</ul>
</li>
<li><em>Advantages</em>: Customizable media types, growing guidance, favors long-lasting services</li>
<li><em>Disadvantages</em>: Poor tooling, assumed &ldquo;too hard&rdquo;, limited use in public APIs</li>
</ul>
<blockquote>
<p>Example: An e-commerce REST API that includes hypermedia links. When a client retrieves information about a product, the response includes links to related resources, such as reviews, related products, and the shopping cart. Clients can follow these links to navigate through the API. Example of a JSON Response with Hypermedia Links:</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    &#34;product_id&#34;: 123,
</span></span><span style="display:flex;"><span>    &#34;name&#34;: &#34;Sample Product&#34;,
</span></span><span style="display:flex;"><span>    &#34;description&#34;: &#34;This is a sample product.&#34;,
</span></span><span style="display:flex;"><span>    &#34;links&#34;: [
</span></span><span style="display:flex;"><span>        { &#34;rel&#34;: &#34;reviews&#34;, &#34;href&#34;: &#34;/api/products/123/reviews&#34; },
</span></span><span style="display:flex;"><span>        { &#34;rel&#34;: &#34;related&#34;, &#34;href&#34;: &#34;/api/products/related/123&#34; },
</span></span><span style="display:flex;"><span>        { &#34;rel&#34;: &#34;cart&#34;, &#34;href&#34;: &#34;/api/cart&#34; }
</span></span><span style="display:flex;"><span>    ]
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ol start="4">
<li><strong>Event-driven/Reactive</strong>:</li>
</ol>
<ul>
<li>This style of API includes the use of protocols like <strong>WebSocket</strong> for real-time communication between clients and servers. It allows data to be transmitted between a client and server with low overhead and low latency. Event-driven or reactive APIs are well-suited for applications that require real-time updates or push notifications.</li>
</ul>
<blockquote>
<p>Example: A chat application that uses WebSocket for real-time messaging. When a user sends a message, it is immediately pushed to the recipient&rsquo;s client through a WebSocket connection, enabling real-time chat without the need for constant polling. Example of a WebSocket Server in Node.js:</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>const WebSocket = require(&#39;ws&#39;);
</span></span><span style="display:flex;"><span>const wss = new WebSocket.Server({ port: 8080 });
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>wss.on(&#39;connection&#39;, (ws) =&gt; {
</span></span><span style="display:flex;"><span>    console.log(&#39;Client connected&#39;);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    ws.on(&#39;message&#39;, (message) =&gt; {
</span></span><span style="display:flex;"><span>        console.log(`Received message: ${message}`);
</span></span><span style="display:flex;"><span>        // Handle and broadcast the message to other clients
</span></span><span style="display:flex;"><span>        wss.clients.forEach((client) =&gt; {
</span></span><span style="display:flex;"><span>            if (client !== ws &amp;&amp; client.readyState === WebSocket.OPEN) {
</span></span><span style="display:flex;"><span>                client.send(message);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        });
</span></span><span style="display:flex;"><span>    });
</span></span><span style="display:flex;"><span>});
</span></span></code></pre></div><ol start="5">
<li><strong>GraphQL</strong>:</li>
</ol>
<ul>
<li>GraphQL is a query language for APIs developed by Facebook that allows clients to dictate the shape and structure of the data they need. It enables clients to request only the specific data they require, reducing over-fetching or under-fetching of data. GraphQL APIs are designed to be flexible and client-centric, allowing clients to retrieve data without making large or unnecessary requests.</li>
</ul>
<blockquote>
<p>Example: A social media platform with a GraphQL API. Clients can send GraphQL queries to request specific information about users, their posts, comments, and more. Clients can customize the query to fetch only the fields they need. For example, a client might request the user&rsquo;s name, profile picture, and the latest five posts. Example of a GraphQL Query in JavaScript (Apollo Client):</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>import { useQuery } from &#39;@apollo/client&#39;;
</span></span><span style="display:flex;"><span>import gql from &#39;graphql-tag&#39;;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>const GET_USER_PROFILE = gql`
</span></span><span style="display:flex;"><span>  query GetUserProfile($userId: ID!) {
</span></span><span style="display:flex;"><span>    user(id: $userId) {
</span></span><span style="display:flex;"><span>      name
</span></span><span style="display:flex;"><span>      email
</span></span><span style="display:flex;"><span>      posts {
</span></span><span style="display:flex;"><span>        title
</span></span><span style="display:flex;"><span>        content
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>`;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>function UserProfile({ userId }) {
</span></span><span style="display:flex;"><span>  const { loading, error, data } = useQuery(GET_USER_PROFILE, {
</span></span><span style="display:flex;"><span>    variables: { userId },
</span></span><span style="display:flex;"><span>  });
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  if (loading) return &#39;Loading...&#39;;
</span></span><span style="display:flex;"><span>  if (error) return `Error: ${error.message}`;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  const user = data.user;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  // Render user profile with retrieved data
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ol>
<li><strong>gRPC</strong>:</li>
</ol>
<ul>
<li><strong>gRPC</strong> is a high-performance, language-agnostic remote procedure call (RPC) framework developed by Google. It uses Protocol Buffers (protobuf) for defining service contracts and serializing data. gRPC requires both the client and server to agree on the payload format, which can lead to efficient communication. It is known for its speed and efficiency and is often used in microservices architectures and performance-critical applications.</li>
</ul>
<blockquote>
<p>Example: A microservices-based architecture for a ride-sharing platform. Services written in different languages communicate with each other using gRPC. For instance, a trip booking service written in Go may communicate with a user authentication service written in Java, ensuring efficient and type-safe communication between services. Example of a gRPC Server and Client in Go:</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#75715e">// in protocol buffers:
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">syntax</span> = <span style="color:#e6db74">&#34;proto3&#34;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">package</span> <span style="color:#a6e22e">example</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">service</span> <span style="color:#a6e22e">Greeter</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">rpc</span> <span style="color:#a6e22e">SayHello</span> (<span style="color:#a6e22e">HelloRequest</span>) <span style="color:#a6e22e">returns</span> (<span style="color:#a6e22e">HelloReply</span>);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">message</span> <span style="color:#a6e22e">HelloRequest</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">string</span> <span style="color:#a6e22e">name</span> = <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">message</span> <span style="color:#a6e22e">HelloReply</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">string</span> <span style="color:#a6e22e">message</span> = <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// in go:
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> (
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;context&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;log&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;google.golang.org/grpc&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">pb</span> <span style="color:#e6db74">&#34;example&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">conn</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">grpc</span>.<span style="color:#a6e22e">Dial</span>(<span style="color:#e6db74">&#34;localhost:50051&#34;</span>, <span style="color:#a6e22e">grpc</span>.<span style="color:#a6e22e">WithInsecure</span>())
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">Fatalf</span>(<span style="color:#e6db74">&#34;could not connect: %v&#34;</span>, <span style="color:#a6e22e">err</span>)
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">defer</span> <span style="color:#a6e22e">conn</span>.<span style="color:#a6e22e">Close</span>()
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">c</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">pb</span>.<span style="color:#a6e22e">NewGreeterClient</span>(<span style="color:#a6e22e">conn</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">name</span> <span style="color:#f92672">:=</span> <span style="color:#e6db74">&#34;World&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">r</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">SayHello</span>(<span style="color:#a6e22e">context</span>.<span style="color:#a6e22e">Background</span>(), <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">pb</span>.<span style="color:#a6e22e">HelloRequest</span>{<span style="color:#a6e22e">Name</span>: <span style="color:#a6e22e">name</span>})
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">Fatalf</span>(<span style="color:#e6db74">&#34;could not greet: %v&#34;</span>, <span style="color:#a6e22e">err</span>)
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;Greeting: %s\n&#34;</span>, <span style="color:#a6e22e">r</span>.<span style="color:#a6e22e">Message</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>These different API styles and acronyms offer various approaches to building and interacting with APIs, each with its own advantages and use cases. The choice of API style depends on the specific requirements of your application and the trade-offs you are willing to make in terms of flexibility, performance, and complexity.</p>
<h2 id="attributes-to-designing-apis">Attributes to Designing APIs</h2>
<h4 id="functionality">Functionality</h4>
<ul>
<li>Access data I need?</li>
<li>Uptime?</li>
<li>Connecting to wanted syste,?</li>
</ul>
<h4 id="usability">Usability</h4>
<ul>
<li>Learning curve, understanding, and debugging</li>
</ul>
<h4 id="experience">Experience</h4>
<ul>
<li>Feelings in regards to the human experience</li>
</ul>
<h3 id="developer-experience-dx">Developer Experience (DX)</h3>
<p>A good DX means encouraging adoption of the API. Good API design incorporate constraints, business drivers, and devs. API designers look to improve the dev experience:</p>
<ul>
<li>Morville&rsquo;s UX Honeycomb
<ul>
<li>Useful</li>
<li>Usable</li>
<li>Desireable</li>
<li>Valuable</li>
<li>Findable</li>
<li>Accessible</li>
<li>Credible</li>
</ul>
</li>
<li>Troubleshooting
<ul>
<li>Clear error msg, defect tracking, documentation, time to fix</li>
</ul>
</li>
<li>Change management
<ul>
<li>API versioning, release history, backward compatibility, upgrade or migration process</li>
</ul>
</li>
<li>Education
<ul>
<li>Documentation, annotations, sample code, scripts, demos, dev community engagement</li>
</ul>
</li>
<li>Visibility
<ul>
<li>Log/Usage access, transaction tracing, intuitive search</li>
</ul>
</li>
<li>Trust
<ul>
<li>stability, honesty, security</li>
</ul>
</li>
</ul>
<h2 id="overcoming-api-design-obstacles">Overcoming API Design Obstacles</h2>
<p>Common challenges include cost, scalability, and security. Some obstacles may be the &ldquo;perspective obstacle&rdquo;,&ldquo;bias obstacle&rdquo;, &ldquo;assumptions obstacle&rdquo;, &ldquo;resource obstacle&rdquo;.</p>
<h3 id="challenges">Challenges</h3>
<ul>
<li>Costs
<ul>
<li>infrastructure: hardware and program approaches</li>
</ul>
</li>
<li>Scalability
<ul>
<li>load testing, authentication, quota management, API caching</li>
</ul>
</li>
<li>Security
<ul>
<li>leverage API gateway to validate traffic</li>
</ul>
</li>
</ul>
<h3 id="obstacles">Obstacles</h3>
<ul>
<li>perspective obstacle
<ul>
<li>designer may understand the API better than users, thus look to reducing usage complexity</li>
</ul>
</li>
<li>bias obstacle
<ul>
<li>technical purity may not always win, and users may seek simplicity</li>
</ul>
</li>
<li>assumption obstacle
<ul>
<li>assumptions can be inaccurate, especially about users, so don&rsquo;t assume without validations</li>
</ul>
</li>
<li>resource obstacle
<ul>
<li>Understand priorities&ndash;avoid design debt. Sometimes use shortcuts, use simpler design acclimated to users</li>
</ul>
</li>
</ul>
<h2 id="architecture">Architecture</h2>
<h3 id="well-designed-api">Well-Designed API</h3>
<p>A well-designed API addresses security, usability, scalability, testability, and reliability.</p>
<h3 id="architectural-layers">Architectural Layers</h3>
<ol start="0">
<li>Client Application</li>
<li>Security (gatekeeper)</li>
<li>Caching (deliver sketched responses)</li>
<li>Representation (interface, consumer-centric view)</li>
<li>Orchestration (allows enriched responses)</li>
<li>API</li>
</ol>
<h3 id="api-design-approach-steps">API Design Approach Steps</h3>
<p>Design, test, implement. Create <strong>state diagrams</strong> where necessary that lists all parts, documents state transitions, finds the best schema, and reconcile strings.</p>
<ol>
<li>Determine goals</li>
<li>Identify users</li>
<li>Design interface</li>
<li>Evaluate</li>
<li>Implement</li>
</ol>
<p>Prototypes should be low investment&ndash;focus on interface, and start with low-fidelity sketches. Utilize the interface design feedback loop</p>
<h2 id="change-management">Change Management</h2>
<p>The change management umbrella covers topics of versioning APIs with communication on risks and considerations for versions, a clear release history tracking development, supporting backward compatibility, and painless upgrade/migration.</p>
<blockquote>
<p>Postel&rsquo;s Law:
Be conservative in what you do, be liberal in what you accept from others&quot;</p>
<p>-&gt; &ldquo;Be conservative in what you send, be liberal in what you accept&rdquo;.</p>
</blockquote>
<h3 id="api-versioning">API Versioning</h3>
<p>Principles:</p>
<ul>
<li>Avoid versioning unless necessary&ndash;nobody cares on the web</li>
<li>Semantic Versioning
<ul>
<li>2.1.0 - rc.1 (Major-minor-revision-build)</li>
</ul>
</li>
<li>When making breaking changes, treat changes like a new API</li>
<li>Extend interface to avoid breakage&ndash;users only care about APIs breaking</li>
</ul>
<h3 id="extending-the-interface-techniques">Extending the Interface Techniques</h3>
<ul>
<li>preserve what you have</li>
<li>preserve the meaning</li>
<li>make new changes optional
<ul>
<li>inject default values, or clients ignore properties/obj that aren&rsquo;t understood</li>
<li>add fields, but don&rsquo;t overdo it</li>
<li>hypermedia is most friendly</li>
</ul>
</li>
</ul>

</div>
<div class="tags">
<div class="taxosfloating_left">
<p>Categories</p>
</div>
<div class="termsfloating_right">
<p>
<a href="/rover/categories/computer-science/">computer-science</a>
<a href="/rover/categories/software/">software</a>
</p>
</div>
<div class="clearit"></div>
<div class="tags">
<div class="taxosfloating_left">
<p>Tags</p>
</div>
<div class="termsfloating_right">
<p>
<a href="/rover/tags/api/">api</a>
<a href="/rover/tags/applications/">applications</a>
</p>
</div>
<div class="clearit"></div>
</div>
</article>
</div>
</main>
<footer>
© Copyright notice | <a href="https://github.com/dataCobra/hugo-vitae" target="_blank">Vitae</a> theme for <a href="https://gohugo.io" target="_blank">Hugo</a>
</footer><script src="/rover/js/dark-mode.js"></script>

</body>
</html>
