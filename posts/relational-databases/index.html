<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Relational Databases | Rover</title>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="generator" content="Hugo 0.68.3" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="author" content="Winston Tsia">
<meta name="keywords" content="MySQL, Relational Databases">
<meta name="description" content="Notes on Relational Databases">
<link rel="stylesheet" type="text/css" media="screen" href="/rover/css/normalize.css" />
<link rel="stylesheet" type="text/css" media="screen" href="/rover/css/main.css" />
<link rel="stylesheet" type="text/css" media="screen" href="/rover/css/all.css" /><link rel="stylesheet" href="/rover/css/katex.css" crossorigin="anonymous">
<script defer src="/rover/js/katex.js"  integrity="sha384-PFWG8XW41D5NzhNv5FegM1CUkw9nNLdWug8DuwnUoNEVop9n5frjcnbtsZtxTNjw" crossorigin="anonymous"></script>
<script defer src="/rover/js/auto-render.js" integrity="sha384-EN2q+JG5/3Z8gD7hT5WZqq+W+9wQR4P3IezfuZmGG5RkNXaaaks85seDJO7WkZlY" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script>
<script>
document.addEventListener("DOMContentLoaded", function() { renderMathInElement(document.body, { delimiters: [ {left: "$$", right: "$$", display: true}, {left: "$", right: "$", display: false} ] }); });
</script>
<script






src="/rover/">
</script>




<meta property="og:title" content="Relational Databases" />
<meta property="og:description" content="Notes on Relational Databases" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://wtsia.github.io/rover/posts/relational-databases/" />
<meta property="article:published_time" content="2023-01-17T19:29:32-08:00" />
<meta property="article:modified_time" content="2023-01-17T19:29:32-08:00" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Relational Databases"/>
<meta name="twitter:description" content="Notes on Relational Databases"/>

<meta itemprop="name" content="Relational Databases">
<meta itemprop="description" content="Notes on Relational Databases">
<meta itemprop="datePublished" content="2023-01-17T19:29:32-08:00" />
<meta itemprop="dateModified" content="2023-01-17T19:29:32-08:00" />
<meta itemprop="wordCount" content="755">



<meta itemprop="keywords" content="MySQL,Relational Databases," />
</head>
<body>
<header>
<div id="avatar">
<a href="https://wtsia.github.io/rover/"><img src="/rover/img/about.jpg" alt="Rover"></a>
</div>
<div id="titletext">
<h2 id="title"><a href="https://wtsia.github.io/rover/">Rover</a></h2>
</div>
<div id="title-description">
<p id="subtitle"><a href="https://wtsia.github.io/rover/">Rover</a> is a blog for teaching or storing concepts.</p>
<div id="social">
<nav><ul>
<li><a href="https://github.com/wtsia"><i title="Github" class="icons fab fa-github"></i></a></li>
<li><a href="/rover/index.xml"><i title="RSS" class="icons fas fa-rss"></i></a></li>
<li><a><i title="Switch Dark Mode" class="dark-mode icons fas fa-moon"></i></a></li>
</ul></nav>
</div>
</div>
<div id="mainmenu">
<nav>
<ul>
<li><a href="/rover/">Home</a></li>
<li><a href="/rover/posts">All Posts</a></li>
<li><a href="/rover/about">About</a></li>
<li><a href="/rover/tags">Tags</a></li>
<li><a href="/rover/categories">Categories</a></li>
<li><a href="/rover/files">Files</a></li>
</ul>
</nav>
</div>
</header>
<main>
<div class="post">
<article>
<div class="post-header">
<div class="meta">
</div>
<div class="matter">
<h1 class="title">Relational Databases</h1>
<p class="post-meta">
<span class="post-meta">



</span>

</p>
</div>
</div>
<div class="markdown">
<h1 id="contents">Contents</h1>
<ul>
<li><a href="#contents">Contents</a></li>
<li><a href="#relational-databases-mysql">Relational Databases: MySQL</a>
<ul>
<li><a href="#outcomes">Outcomes</a></li>
</ul>
</li>
<li><a href="#starting-a-mysql-instance">Starting a MySQL Instance</a></li>
<li><a href="#entity-relationship-er-model">Entity Relationship (ER) Model</a>
<ul>
<li><a href="#er-diagram-example">ER Diagram Example</a></li>
</ul>
</li>
<li><a href="#populating-database">Populating Database</a>
<ul>
<li><a href="#creating-tables">Creating Tables</a></li>
<li><a href="#creating-relationships">Creating Relationships</a>
<ul>
<li><a href="#additional-commands">Additional commands:</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 id="relational-databases-mysql">Relational Databases: MySQL</h1>
<p>An introduction to the relational model, relational algebra, and SQL. Also covers XML data including DTDs
and XML Schema for validation, and an introduction to the query and transformation languages XPath,
XQuery, and XSLT. The course includes relational design principles based on dependencies and normal
forms. Additional database topics introduced are indexes, views, transactions, authorization, integrity
constraints, triggers, on-line analytical processing (OLAP), and emerging NoSQL (Not only SQL)
databases for cloud and desktop computing.</p>
<p>Book: murach&rsquo;s MySQL (3rd Edition, 2019)</p>
<h2 id="outcomes">Outcomes</h2>
<ol>
<li>Create and assure the quality of a suitable data model for a given application.</li>
<li>Use normalization to transform a relational schema into a set of normalized relations (3NF).</li>
<li>Use SQL for database creation, manipulation and control.</li>
<li>Employ data storage and indexing options and perform query optimization.</li>
<li>Perform basic database administration tasks.</li>
<li>Employ XML technologies to query, manipulate and transform data.</li>
<li>Develop NoSQL desktop and cloud database solutions.</li>
</ol>
<h1 id="starting-a-mysql-instance">Starting a MySQL Instance</h1>
<p>Per instructions on <a href="https://hub.docker.com/_/mysql" target="_blank">mysql’s docker page</a>, we will be making a docker compose file with the following recommended settings. This will be done on a Linux based OS:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">version: &#39;3.1&#39;

services:

  db:
    image: mysql
    # NOTE: use of &#34;mysql_native_password&#34; is not recommended: https://dev.mysql.com/doc/refman/8.0/en/upgrading-from-previous-series.html#upgrade-caching-sha2-password
    # (this is just an example, not intended to be a production configuration)
    command: --default-authentication-plugin=sha256_password
    restart: always
    environment:
      MYSQL_ROOT_PASSWORD: ${ROOT_PWD}

  adminer:
    image: adminer
    restart: always
    ports:
      - 8080:8080
</code></pre></div><p>Since <code>mysql_native_password</code> is not recommended as the field value for <code>--default-authentication-plugin</code>, so we will use one of the recommended values, <code>sha256_password</code>. Our root password will be stored in an environment variable called <code>${ROOT_PWD}</code>, located in your <code>.env</code> or environment section of your container manager and will be used to log into mysql.</p>
<p>Now we can build it using <code>docker compose up -d</code> from the CLI or start it up using your container manager.</p>
<p>To confirm startup, we can check via <code>docker logs my-container-name</code>, or using <code>docker ps</code>, check that the container is running. You will need to run it using <code>sudo</code> if you haven&rsquo;t added docker to your user group.</p>
<p><figure>
  <img src="/rover/img/MySQL/checkMySQLInstall.png" alt="Check Running"  />
</figure></p>
<p>Now lets log into the MySQL database. we can access the container shell using:</p>
<p><code>docker exec -it my-sql-db-1 bash</code></p>
<p>Now we will log into the MySQL database as root by typing:</p>
<p><code>mysql -uroot -p</code></p>
<p><figure>
  <img src="/rover/img/MySQL/dockerConnectingMySQL.png" alt="Connecting to MySQL"  />
</figure></p>
<h1 id="entity-relationship-er-model">Entity Relationship (ER) Model</h1>
<ul>
<li>Element Types:
<ul>
<li>Entity and Entity Sets (Rectangle)
<ul>
<li>similar entities == entity set</li>
</ul>
</li>
<li>Attributes (Ovals): qualitative descriptors</li>
<li>Relationships (Diamonds)
<ul>
<li>represented by keys for entity instance</li>
<li>binary (2), tertiary(3) relationship</li>
<li>symbols
<ul>
<li>&ldquo;$\circ$&rdquo; indicates optional (0 instances of relationships between entities)</li>
<li>&ldquo;$|$&rdquo; means mandatory</li>
<li>&ldquo;$||$&rdquo; means cardinality (measure of the number of elements of a set)</li>
<li>&ldquo;$\triangleleft$&quot;+&quot;$+$&rdquo; crows foot indicates many relationships (imagine $\in$ but with straight lines)
$$
Attributes \in Entity
\\
$$</li>
</ul>
</li>
</ul>
</li>
<li>$R:E\rArr F$ = Each $E$ to at most one member of $F$, is <strong>&ldquo;many to one&rdquo;</strong></li>
<li><strong>&ldquo;one-one&rdquo;</strong> is equivalent to bijection of the above relation</li>
<li><strong>&ldquo;many-many&rdquo;</strong> is not &ldquo;many to one&rdquo; bijectively</li>
</ul>
</li>
</ul>
<h2 id="er-diagram-example">ER Diagram Example</h2>
<p><figure>
  <img src="/rover/img/MySQL/ERDiagram.png" alt="ER Diagram"  />
</figure></p>
<ul>
<li>Entities: CEO, Engineer, Manager, Customer, Product
<ul>
<li>Attributes:
<ul>
<li>CEO: <code>salary, first_name, last_name, org_id, email</code></li>
<li>Engineer: <code>avg_salary, first_name, last_name, org_id, email</code></li>
<li>Manager: <code>avg_salary, first_name, last_name, org_id, department</code></li>
<li>Customer: <code>customer_id, payment_info, session_id, discount_id, transaction_id</code></li>
<li>Product: <code>product_id, quantity, category, display_name, availability</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 id="populating-database">Populating Database</h1>
<h2 id="creating-tables">Creating Tables</h2>
<p>The following is an ER Diagram for the database we will be creating:</p>
<p><figure>
  <img src="/rover/img/MySQL/ERDiagramStudentDB.png" alt="ER Diagram"  />
</figure></p>
<p>These are the following commands we will use to create our table for <code>user</code>, <code>student</code>, <code>instructor</code>, and <code>courses</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">create table user(user_id int primary key, first_name varchar(100), last_name varchar(100), email_addr varchar(100), phone_num enum(&#39;home&#39;,&#39;office&#39;,&#39;mobile&#39;));
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">create table student(user_id int primary key, first_name varchar(100), last_name varchar(100), email_addr varchar(100), phone_num enum(&#39;home&#39;,&#39;office&#39;,&#39;mobile&#39;),major varchar(100));
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">create table instructor(user_id int primary key, first_name varchar(100), last_name varchar(100), email_addr varchar(100), phone_num enum(&#39;home&#39;,&#39;office&#39;,&#39;mobile&#39;), title enum(&#39;Full Professor&#39;,&#39;Reader&#39;,&#39;Instructor&#39;));
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">create table courses(course_num int, dept varchar(100), title varchar(1000), level 
enum(&#39;undergraduate&#39;,&#39;graduate&#39;,&#39;research&#39;), primary key(course_num,department));
</code></pre></div><p>we can confirm with <code>describe table_name;</code>, like <code>describe user;</code>:</p>
<p><figure>
  <img src="/rover/img/MySQL/describeUser.png" alt="example &amp;lsquo;describe&amp;rsquo;"  />
</figure></p>
<p>we can see, the <code>create table user --</code> command created the corresponding fields and data types.</p>
<p>Now, let&rsquo;s check what tables we have so far using <code>show tables;</code>:
<figure>
  <img src="/rover/img/MySQL/showTablesStudentDB.png" alt="show table"  />
</figure></p>
<p>Let&rsquo;s make some more tables. One for <code>class</code>, <code>assignments</code>, and <code>posts</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">create table class(class_num int primary key, start_date date, end_date date, max_students int, term varchar(100), year int, grade double);
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">create table assignments(assignment_id int primary key, name varchar(100), deadline datetime, grade double);
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">create table posts(post_id int primary key, kind text, posting_time datetime, topics text, context text, popularity_rating double);
</code></pre></div><p><figure>
  <img src="/rover/img/MySQL/createTableFullCreate.png" alt="create all tables"  />
</figure></p>
<h2 id="creating-relationships">Creating Relationships</h2>
<h3 id="additional-commands">Additional commands:</h3>
<p>remove a column like <code>level</code> in <code>courses</code>:</p>
<p><code>mysql&gt; alter table courses drop column level;</code></p>
<ul>
<li><code>alter table</code>: lets you <code>add</code> or <code>drop</code> columns</li>
</ul>

</div>
<div class="tags">
<div class="taxosfloating_left">
<p>Categories</p>
</div>
<div class="termsfloating_right">
<p>
<a href="/rover/categories/computer-science/">computer-science</a>
<a href="/rover/categories/databases/">databases</a>
</p>
</div>
<div class="clearit"></div>
<div class="tags">
<div class="taxosfloating_left">
<p>Tags</p>
</div>
<div class="termsfloating_right">
<p>
<a href="/rover/tags/mysql/">mysql</a>
<a href="/rover/tags/relational-databases/">relational-databases</a>
</p>
</div>
<div class="clearit"></div>
</div>
</article>
</div>
</main>
<footer>
© Copyright notice | <a href="https://github.com/dataCobra/hugo-vitae">Vitae</a> theme for <a href="https://gohugo.io">Hugo</a>
</footer><script src="/rover/js/dark-mode.js"></script>

</body>
</html>
